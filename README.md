# AI Chatbot - ุฑูุจูุช ุงููุญุงุฏุซุฉ ุงูุฐูู

## ๐ NEW: Literate Programming Support - ุฏุนู ุงูุจุฑูุฌุฉ ุงูุฃุฏุจูุฉ

### ๐ Enhanced Code Display System - ูุธุงู ุนุฑุถ ุงูููุฏ ุงููุญุณู

The chatbot now features an advanced **Literate Programming** system that provides code with comprehensive explanations, interactive features, and beautiful visual presentation.

ูุญุชูู ุฑูุจูุช ุงููุญุงุฏุซุฉ ุงูุขู ุนูู ูุธุงู **ุงูุจุฑูุฌุฉ ุงูุฃุฏุจูุฉ** ูุชูุฏู ููุฏู ุงูููุฏ ูุน ุดุฑูุญุงุช ุดุงููุฉ ูููุฒุงุช ุชูุงุนููุฉ ูุนุฑุถ ุจุตุฑู ุฌููู.

#### โจ Key Features - ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ:

- **๐จ Enhanced Syntax Highlighting** - ุชูููู ููุฏ ูุชูุฏู
- **๐ Line Numbers & File Names** - ุฃุฑูุงู ุงูุฃุณุทุฑ ูุฃุณูุงุก ุงููููุงุช  
- **๐ง Interactive Toolbar** - ุดุฑูุท ุฃุฏูุงุช ุชูุงุนูู
- **๐ One-Click Copy** - ูุณุฎ ุจููุฑุฉ ูุงุญุฏุฉ
- **๐ Expandable Code Blocks** - ูุชู ููุฏ ูุงุจูุฉ ููุชูุณูุน
- **๐ก Step-by-Step Explanations** - ุดุฑูุญุงุช ุฎุทูุฉ ุจุฎุทูุฉ
- **๐ค Expected Output Display** - ุนุฑุถ ุงููุฎุฑุฌุงุช ุงููุชููุนุฉ
- **๐ Bilingual Code Comments** - ุชุนูููุงุช ุงูููุฏ ุซูุงุฆูุฉ ุงููุบุฉ

#### ๐ How to Use - ููููุฉ ุงูุงุณุชุฎุฏุงู:

Simply ask for code in Arabic or English:
```
ุงูุชุจ ููุฏ JavaScript ูุฅูุดุงุก ูุงุฆูุฉ ููุงู ุชูุงุนููุฉ
Write Python code to calculate prime numbers
Create a responsive CSS navigation menu
```

The AI will automatically detect code requests and provide:
1. **Problem explanation** - ุดุฑุญ ุงููุดููุฉ
2. **Complete code with comments** - ููุฏ ูุงูู ูุน ุงูุชุนูููุงุช
3. **Step-by-step breakdown** - ุชูุตูู ุฎุทูุฉ ุจุฎุทูุฉ
4. **Expected output** - ุงููุฎุฑุฌุงุช ุงููุชููุนุฉ
5. **Optimization tips** - ูุตุงุฆุญ ุงูุชุญุณูู

---

## English Description

A smart AI chatbot built with Python (Flask) for the backend and HTML/CSS/JavaScript for the frontend. This chatbot operates locally without requiring any external APIs and features self-learning capabilities with a **modern, simplified interface**.

### โจ New Modern Interface Features:
- **Simplified Design**: Clean, modern interface with improved usability
- **Enhanced Mobile Experience**: Responsive design with mobile-first approach
- **Improved Navigation**: Streamlined sidebar with better organization
- **Modern Typography**: Better font choices and text hierarchy
- **Enhanced Animations**: Smooth transitions and micro-interactions
- **Better Accessibility**: Improved keyboard navigation and screen reader support
- **Quick Actions**: One-click starter prompts for new users
- **Character Counter**: Real-time character count with visual feedback

### Core Features:
- **๐ Literate Programming Support** - Advanced code display with explanations
- Bilingual support (English and Arabic) with automatic language detection
- Modern, responsive chat interface with typing indicators
- Pattern-based responses that intelligently match the user's language
- Simple NLP processing using NLTK
- Configurable settings via config.py
- Real-time responses for date and time requests
- Clean separation of concerns (HTML, CSS, JavaScript)
- **Self-learning capabilities** that allow the chatbot to improve over time
- Memory system to store and learn from conversations
- User-teaching interface to correct and improve responses
- Statistics dashboard to track learning progress

### Installation and Setup:

1. Clone this repository
2. Create a virtual environment (optional but recommended):
   ```
   python -m venv .venv
   ```
3. Activate the virtual environment:
   - Windows: `.venv\Scripts\activate`
   - Unix/MacOS: `source .venv/bin/activate`
4. Install dependencies:
   ```
   pip install -r requirements.txt
   ```
5. Run the application:
   ```
   python app.py
   ```
   or use the run script:
   ```
   python run.py
   ```
6. Open your browser and navigate to `http://localhost`

## ุงููุตู ุจุงูุนุฑุจูุฉ

ุฑูุจูุช ูุญุงุฏุซุฉ ุฐูู ูุจูู ุจุงุณุชุฎุฏุงู Python (Flask) ููุฎูููุฉ ู HTML/CSS/JavaScript ูููุงุฌูุฉ ุงูุฃูุงููุฉ. ูุนูู ุฑูุจูุช ุงููุญุงุฏุซุฉ ูุฐุง ูุญููุงู ุฏูู ุงูุญุงุฌุฉ ุฅูู ุฃู ูุงุฌูุงุช ุจุฑูุฌุฉ ุชุทุจููุงุช ุฎุงุฑุฌูุฉ ููุชููุฒ ุจูุฏุฑุงุช ุงูุชุนูู ุงูุฐุงุชู ูุน **ูุงุฌูุฉ ุญุฏูุซุฉ ููุจุณุทุฉ**.

### โจ ููุฒุงุช ุงููุงุฌูุฉ ุงูุญุฏูุซุฉ ุงูุฌุฏูุฏุฉ:
- **ุชุตููู ูุจุณุท**: ูุงุฌูุฉ ูุธููุฉ ูุญุฏูุซุฉ ูุน ุชุญุณูู ูุงุจููุฉ ุงูุงุณุชุฎุฏุงู
- **ุชุฌุฑุจุฉ ูุญุณูุฉ ููููุจุงูู**: ุชุตููู ูุชุฌุงูุจ ูุฑูุฒ ุนูู ุงูุฃุฌูุฒุฉ ุงููุญูููุฉ ุฃููุงู
- **ุชููู ูุญุณู**: ุดุฑูุท ุฌุงูุจู ูุจุณุท ูุน ุชูุธูู ุฃูุถู
- **ุฎุทูุท ุญุฏูุซุฉ**: ุฎูุงุฑุงุช ุฎุทูุท ุฃูุถู ูุชุณูุณู ูุฑูู ูููุตูุต
- **ุฑุณูู ูุชุญุฑูุฉ ูุญุณูุฉ**: ุงูุชูุงูุงุช ุณูุณุฉ ูุชูุงุนูุงุช ุฏูููุฉ
- **ุฅููุงููุฉ ูุตูู ุฃูุถู**: ุชููู ูุญุณู ุจููุญุฉ ุงูููุงุชูุญ ูุฏุนู ูุงุฑุฆ ุงูุดุงุดุฉ
- **ุฅุฌุฑุงุกุงุช ุณุฑูุนุฉ**: ุงูุชุฑุงุญุงุช ุจุฏุก ุจููุฑุฉ ูุงุญุฏุฉ ูููุณุชุฎุฏููู ุงูุฌุฏุฏ
- **ุนุฏุงุฏ ุงูุฃุญุฑู**: ุนุฏุฏ ุงูุฃุญุฑู ูู ุงูููุช ุงููุนูู ูุน ุชุบุฐูุฉ ุฑุงุฌุนุฉ ุจุตุฑูุฉ

### ุงูููุฒุงุช ุงูุฃุณุงุณูุฉ:
- ุฏุนู ุซูุงุฆู ุงููุบุฉ (ุงูุฅูุฌููุฒูุฉ ูุงูุนุฑุจูุฉ) ูุน ุงูุชุดุงู ุงููุบุฉ ุชููุงุฆูุงู
- ูุงุฌูุฉ ุฏุฑุฏุดุฉ ุญุฏูุซุฉ ููุชุฌุงูุจุฉ ูุน ูุคุดุฑุงุช ุงููุชุงุจุฉ
- ุฑุฏูุฏ ูุงุฆูุฉ ุนูู ุงูุฃููุงุท ุชุชุทุงุจู ุจุฐูุงุก ูุน ูุบุฉ ุงููุณุชุฎุฏู
- ูุนุงูุฌุฉ ูุบููุฉ ุทุจูุนูุฉ ุจุณูุทุฉ ุจุงุณุชุฎุฏุงู NLTK
- ุฅุนุฏุงุฏุงุช ูุงุจูุฉ ููุชูููู ุนุจุฑ ููู config.py
- ุฑุฏูุฏ ูู ุงูููุช ุงููุนูู ูุทูุจุงุช ุงูุชุงุฑูุฎ ูุงูููุช
- ูุตู ูุธูู ุจูู ุงูููููุงุช (HTMLุ CSSุ JavaScript)
- **ูุฏุฑุงุช ุงูุชุนูู ุงูุฐุงุชู** ุงูุชู ุชุณูุญ ูุฑูุจูุช ุงููุญุงุฏุซุฉ ุจุงูุชุญุณู ูุน ูุฑูุฑ ุงูููุช
- ูุธุงู ุฐุงูุฑุฉ ูุชุฎุฒูู ุงููุญุงุฏุซุงุช ูุงูุชุนูู ูููุง
- ูุงุฌูุฉ ุชุนููู ุงููุณุชุฎุฏู ูุชุตุญูุญ ูุชุญุณูู ุงูุฑุฏูุฏ
- ููุญุฉ ุฅุญุตุงุฆูุงุช ูุชุชุจุน ุชูุฏู ุงูุชุนูู

### ุงูุชุซุจูุช ูุงูุฅุนุฏุงุฏ:

1. ุงุณุชูุณุฎ ูุฐุง ุงููุณุชูุฏุน
2. ูู ุจุฅูุดุงุก ุจูุฆุฉ ุงูุชุฑุงุถูุฉ (ุงุฎุชูุงุฑู ูููู ููุตู ุจู):
   ```
   python -m venv .venv
   ```
3. ูู ุจุชูุดูุท ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถูุฉ:
   - Windows: `.venv\Scripts\activate`
   - Unix/MacOS: `source .venv/bin/activate`
4. ูู ุจุชุซุจูุช ุงูุชุจุนูุงุช:
   ```
   pip install -r requirements.txt
   ```
5. ูู ุจุชุดุบูู ุงูุชุทุจูู:
   ```
   python app.py
   ```
   ุฃู ุงุณุชุฎุฏู ุณูุฑูุจุช ุงูุชุดุบูู:
   ```
   python run.py
   ```
6. ุงูุชุญ ูุชุตูุญู ูุงูุชูู ุฅูู `http://localhost`

## Firebase Setup - ุฅุนุฏุงุฏ Firebase

The chatbot now includes Firebase Authentication for user management. Here's how to set it up:

ูุชุถูู ุฑูุจูุช ุงููุญุงุฏุซุฉ ุงูุขู ูุตุงุฏูุฉ Firebase ูุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู. ุฅููู ููููุฉ ุฅุนุฏุงุฏู:

### Setting up Firebase Project - ุฅุนุฏุงุฏ ูุดุฑูุน Firebase

1. **Create a Firebase Project**:
   - Go to [Firebase Console](https://console.firebase.google.com/)
   - Click "Add project" and follow the setup wizard
   - Enable Google Analytics (optional)

2. **Enable Authentication**:
   - In the Firebase Console, go to "Authentication" โ "Sign-in method"
   - Enable "Email/Password" authentication
   - Enable "Google" authentication (optional)
   - Add your domain to authorized domains

3. **Setup Realtime Database**:
   - Go to "Realtime Database" and create a database
   - Choose "Start in test mode" for development
   - Set up security rules as needed

4. **Get Firebase Configuration**:
   - Go to Project Settings โ General โ Your apps
   - Click "Add app" and choose "Web"
   - Copy the Firebase configuration object

### Configuration - ุงูุชูููู

The Firebase configuration is already set up in the code with the provided credentials. For production use, you should:

ุชู ุฅุนุฏุงุฏ ุชูููู Firebase ุจุงููุนู ูู ุงูููุฏ ูุน ุจูุงูุงุช ุงูุงุนุชูุงุฏ ุงูููุฏูุฉ. ููุงุณุชุฎุฏุงู ูู ุงูุฅูุชุงุฌุ ูุฌุจ ุนููู:

1. Replace the Firebase configuration in `templates/login.html` and `templates/index.html` with your own
2. Update the Firebase configuration in both files:
   - `apiKey`: Your Firebase API key
   - `authDomain`: Your project's auth domain
   - `databaseURL`: Your Realtime Database URL
   - `projectId`: Your Firebase project ID
   - `storageBucket`: Your storage bucket
   - `messagingSenderId`: Your messaging sender ID
   - `appId`: Your app ID

### Authentication Features - ููุฒุงุช ุงููุตุงุฏูุฉ

- **Email/Password Registration**: Users can create accounts with email and password
- **Email/Password Login**: Secure login with email and password
- **Google Sign-In**: One-click login with Google accounts
- **Password Reset**: Forgot password functionality
- **User Profile Management**: Display user information and logout
- **Session Persistence**: Automatic login state management

### Security Considerations - ุงุนุชุจุงุฑุงุช ุงูุฃูุงู

- All authentication is handled client-side with Firebase
- User data is stored securely in Firebase Realtime Database
- The app includes proper error handling for authentication failures
- Session management is handled automatically by Firebase Auth

## ๐จ Modern Interface Design - ุชุตููู ุงููุงุฌูุฉ ุงูุญุฏูุซุฉ

### Design Philosophy - ููุณูุฉ ุงูุชุตููู

The new interface follows modern design principles:
- **Minimalism**: Clean, uncluttered design that focuses on content
- **Accessibility**: WCAG compliant with proper contrast ratios and keyboard navigation
- **Responsiveness**: Mobile-first approach that works on all screen sizes
- **Performance**: Optimized CSS and JavaScript for fast loading
- **User Experience**: Intuitive navigation and clear visual hierarchy

ุชุชุจุน ุงููุงุฌูุฉ ุงูุฌุฏูุฏุฉ ูุจุงุฏุฆ ุงูุชุตููู ุงูุญุฏูุซุฉ:
- **ุงูุจุณุงุทุฉ**: ุชุตููู ูุธูู ูุบูุฑ ูุฒุฏุญู ูุฑูุฒ ุนูู ุงููุญุชูู
- **ุฅููุงููุฉ ุงููุตูู**: ูุชูุงูู ูุน WCAG ูุน ูุณุจ ุชุจุงูู ููุงุณุจุฉ ูุชููู ุจููุญุฉ ุงูููุงุชูุญ
- **ุงูุงุณุชุฌุงุจุฉ**: ููุฌ ูุฑูุฒ ุนูู ุงูุฃุฌูุฒุฉ ุงููุญูููุฉ ุฃููุงู ููุนูู ุนูู ุฌููุน ุฃุญุฌุงู ุงูุดุงุดุงุช
- **ุงูุฃุฏุงุก**: CSS ู JavaScript ูุญุณูุงู ููุชุญููู ุงูุณุฑูุน
- **ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู**: ุชููู ุจุฏููู ูุชุณูุณู ูุฑูู ุจุตุฑู ูุงุถุญ

### Key Interface Components - ููููุงุช ุงููุงุฌูุฉ ุงูุฑุฆูุณูุฉ

#### 1. Modern Sidebar - ุงูุดุฑูุท ุงูุฌุงูุจู ุงูุญุฏูุซ
- Clean logo and branding
- Prominent "New Chat" button
- Conversation history (when implemented)
- Statistics and help buttons at the bottom

#### 2. Enhanced Chat Header - ุฑุฃุณ ุงููุญุงุฏุซุฉ ุงููุญุณู
- Chat title and status indicator
- Theme toggle button
- Simplified action buttons

#### 3. Improved Welcome Screen - ุดุงุดุฉ ุงูุชุฑุญูุจ ุงููุญุณูุฉ
- Animated bot icon
- Bilingual welcome message
- Quick action buttons for common queries
- Feature showcase cards

#### 4. Modern Message Design - ุชุตููู ุงูุฑุณุงุฆู ุงูุญุฏูุซ
- Clean message bubbles with proper spacing
- Avatar icons for user and bot
- Smooth animations for new messages
- Proper RTL support for Arabic text

#### 5. Enhanced Input Area - ููุทูุฉ ุงูุฅุฏุฎุงู ุงููุญุณูุฉ
- Auto-resizing textarea
- Character counter with visual feedback
- Modern send button design
- Input hints and shortcuts

## Self-Learning Features - ููุฒุงุช ุงูุชุนูู ุงูุฐุงุชู

### Teaching the Chatbot - ุชุนููู ุฑูุจูุช ุงููุญุงุฏุซุฉ

You can teach the chatbot new responses when it gives an incorrect or unsatisfactory answer. Simply use:

ููููู ุชุนููู ุฑูุจูุช ุงููุญุงุฏุซุฉ ุฑุฏูุฏูุง ุฌุฏูุฏุฉ ุนูุฏูุง ููุฏู ุฅุฌุงุจุฉ ุบูุฑ ุตุญูุญุฉ ุฃู ุบูุฑ ูุฑุถูุฉ. ุจุจุณุงุทุฉ ุงุณุชุฎุฏู:

```
Learn: The correct response should be this
```
or in Arabic:
```
ุชุนูู: ุงูุฑุฏ ุงูุตุญูุญ ูุฌุจ ุฃู ูููู ูุฐุง
```

The chatbot will store this information and use it to respond to similar queries in the future.

ุณูููู ุฑูุจูุช ุงููุญุงุฏุซุฉ ุจุชุฎุฒูู ูุฐู ุงููุนูููุงุช ูุงุณุชุฎุฏุงููุง ููุฑุฏ ุนูู ุงุณุชูุณุงุฑุงุช ููุงุซูุฉ ูู ุงููุณุชูุจู.

### Learning Statistics - ุฅุญุตุงุฆูุงุช ุงูุชุนูู

Click the statistics button in the sidebar to view:
- Total number of learned responses
- Number of conversation sessions
- Most popular topics discussed
- Learning progress chart

ุงููุฑ ุนูู ุฒุฑ ุงูุฅุญุตุงุฆูุงุช ูู ุงูุดุฑูุท ุงูุฌุงูุจู ูุนุฑุถ:
- ุงูุนุฏุฏ ุงูุฅุฌูุงูู ููุฑุฏูุฏ ุงููุชุนููุฉ
- ุนุฏุฏ ุฌูุณุงุช ุงููุญุงุฏุซุฉ
- ุฃูุซุฑ ุงูููุงุถูุน ุดููุนูุง ูู ุงูููุงูุดุฉ
- ูุฎุทุท ุชูุฏู ุงูุชุนูู

### How the Learning Works - ููู ูุนูู ุงูุชุนูู

The chatbot's self-learning system works by:
1. Storing user messages and bot responses
2. Recording corrections provided by users
3. Analyzing patterns in conversations
4. Building a dynamic knowledge base
5. Using similarity matching to improve responses over time

ูุธุงู ุงูุชุนูู ุงูุฐุงุชู ูุฑูุจูุช ุงููุญุงุฏุซุฉ ูุนูู ูู ุฎูุงู:
1. ุชุฎุฒูู ุฑุณุงุฆู ุงููุณุชุฎุฏู ูุฑุฏูุฏ ุงูุฑูุจูุช
2. ุชุณุฌูู ุงูุชุตุญูุญุงุช ุงูููุฏูุฉ ูู ุงููุณุชุฎุฏููู
3. ุชุญููู ุงูุฃููุงุท ูู ุงููุญุงุฏุซุงุช
4. ุจูุงุก ูุงุนุฏุฉ ูุนุฑููุฉ ุฏููุงููููุฉ
5. ุงุณุชุฎุฏุงู ูุทุงุจูุฉ ุงูุชุดุงุจู ูุชุญุณูู ุงูุฑุฏูุฏ ุจูุฑูุฑ ุงูููุช

## Configuration - ุงูุชูููู

The chatbot can be configured by editing the `config.py` file, which includes settings for:
- Server host and port
- Debug mode
- Response delay
- Maximum message length
- Default language
- Initial greeting

ูููู ุชูููู ุฑูุจูุช ุงููุญุงุฏุซุฉ ุนู ุทุฑูู ุชุนุฏูู ููู `config.py`ุ ุงูุฐู ูุชุถูู ุฅุนุฏุงุฏุงุช ูู:
- ูุถูู ุงูุฎุงุฏู ููููุฐู
- ูุถุน ุงูุชุตุญูุญ
- ุชุฃุฎูุฑ ุงูุงุณุชุฌุงุจุฉ
- ุงูุญุฏ ุงูุฃูุตู ูุทูู ุงูุฑุณุงูุฉ
- ุงููุบุฉ ุงูุงูุชุฑุงุถูุฉ
- ุงูุชุญูุฉ ุงูุฃูููุฉ

## ๐ Technical Improvements - ุงูุชุญุณููุงุช ุงูุชูููุฉ

### Frontend Architecture - ูููู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ

#### Modern CSS Features:
- CSS Custom Properties (Variables) for consistent theming
- CSS Grid and Flexbox for responsive layouts
- Modern CSS animations and transitions
- CSS-only components where possible
- Optimized for performance with minimal reflows

#### Enhanced JavaScript:
- ES6+ features for cleaner code
- Async/await for better error handling
- Modular architecture with clear separation of concerns
- Event delegation for better performance
- Optimized DOM manipulation

#### Responsive Design:
- Mobile-first approach
- Breakpoints: 480px, 768px, 1024px
- Touch-friendly interface elements
- Optimized for various screen sizes and orientations

### Accessibility Features - ููุฒุงุช ุฅููุงููุฉ ุงููุตูู

- **Keyboard Navigation**: Full keyboard support with proper focus management
- **Screen Reader Support**: Proper ARIA labels and semantic HTML
- **High Contrast**: Proper color contrast ratios for readability
- **Reduced Motion**: Respects user's motion preferences
- **Focus Indicators**: Clear visual focus indicators for all interactive elements

## How to Customize - ููููุฉ ุงูุชุฎุตูุต

### Styling Customization - ุชุฎุตูุต ุงูุชุตููู

The new interface uses CSS custom properties for easy theming:

```css
:root {
  --primary-color: #2563eb;
  --bg-color: #ffffff;
  --text-primary: #1e293b;
  /* ... other variables */
}
```

You can easily change colors, spacing, and other design elements by modifying these variables.

### Adding New Patterns and Responses - ุฅุถุงูุฉ ุฃููุงุท ูุฑุฏูุฏ ุฌุฏูุฏุฉ

Edit the `patterns` and `responses` dictionaries in `app.py` to add more conversation patterns and responses. Make sure to include both English and Arabic responses.

ูู ุจุชุนุฏูู ููุงููุณ `patterns` ู `responses` ูู ููู `app.py` ูุฅุถุงูุฉ ุงููุฒูุฏ ูู ุฃููุงุท ุงููุญุงุฏุซุฉ ูุงูุฑุฏูุฏ. ุชุฃูุฏ ูู ุชุถููู ุฑุฏูุฏ ุจุงููุบุชูู ุงูุฅูุฌููุฒูุฉ ูุงูุนุฑุจูุฉ.

### Enhancing the AI - ุชุญุณูู ุงูุฐูุงุก ุงูุงุตุทูุงุนู

To make the chatbot even smarter, you can:
1. Implement more advanced NLP techniques
2. Add a local ML model
3. Expand the pattern dictionary
4. Connect to external APIs for additional functionality
5. Implement more sophisticated learning algorithms
6. Add sentiment analysis to better understand user emotions
7. Implement context awareness for multi-turn conversations

ูุฌุนู ุฑูุจูุช ุงููุญุงุฏุซุฉ ุฃูุซุฑ ุฐูุงุกูุ ููููู:
1. ุชูููุฐ ุชูููุงุช ูุนุงูุฌุฉ ุงููุบุฉ ุงูุทุจูุนูุฉ ุฃูุซุฑ ุชูุฏูุงู
2. ุฅุถุงูุฉ ูููุฐุฌ ุชุนูู ุขูู ูุญูู
3. ุชูุณูุน ูุงููุณ ุงูุฃููุงุท
4. ุงูุงุชุตุงู ุจูุงุฌูุงุช ุจุฑูุฌุฉ ุชุทุจููุงุช ุฎุงุฑุฌูุฉ ููุญุตูู ุนูู ูุธุงุฆู ุฅุถุงููุฉ
5. ุชูููุฐ ุฎูุงุฑุฒููุงุช ุชุนูู ุฃูุซุฑ ุชุทูุฑุงู
6. ุฅุถุงูุฉ ุชุญููู ุงููุดุงุนุฑ ูููู ุนูุงุทู ุงููุณุชุฎุฏู ุจุดูู ุฃูุถู
7. ุชูููุฐ ุงููุนู ุจุงูุณูุงู ูููุญุงุฏุซุงุช ูุชุนุฏุฏุฉ ุงูุฏูุฑุงุช 

## ๐ฑ Mobile Experience - ุชุฌุฑุจุฉ ุงูุฃุฌูุฒุฉ ุงููุญูููุฉ

The new interface provides an excellent mobile experience:

- **Touch-Optimized**: All buttons and interactive elements are properly sized for touch
- **Swipe Gestures**: Natural swipe gestures for navigation
- **Mobile Keyboard**: Optimized input handling for mobile keyboards
- **Responsive Layout**: Adapts perfectly to different screen sizes
- **Performance**: Optimized for mobile performance and battery life

## ๐ Quick Start Guide - ุฏููู ุงูุจุฏุก ุงูุณุฑูุน

### For New Users - ูููุณุชุฎุฏููู ุงูุฌุฏุฏ

1. **Start a Conversation**: Use one of the quick action buttons or type your message
2. **Teach the Bot**: Use "Learn: [correct answer]" to teach new responses
3. **Switch Themes**: Click the sun/moon icon to toggle between light and dark modes
4. **View Statistics**: Click the statistics button to see learning progress
5. **Get Help**: Click the help button for detailed instructions

### Keyboard Shortcuts - ุงุฎุชุตุงุฑุงุช ููุญุฉ ุงูููุงุชูุญ

- `Enter`: Send message
- `Shift + Enter`: New line
- `Alt + D`: Toggle dark mode
- `Esc`: Close modals
- `โ/โ`: Navigate message history (when input is empty)

## ๐ง Development Notes - ููุงุญุธุงุช ุงูุชุทููุฑ

### File Structure - ูููู ุงููููุงุช

```
chatbot-2025-05/
โโโ templates/
โ   โโโ index.html          # Modern HTML template
โโโ static/
โ   โโโ modern-style.css    # New modern CSS styles
โ   โโโ modern-script.js    # Enhanced JavaScript
โ   โโโ improved-style.css  # Legacy CSS (backup)
โ   โโโ improved-script.js  # Legacy JS (backup)
โโโ app.py                  # Main Flask application
โโโ config.py              # Configuration settings
โโโ data/                  # Learning data storage
```

### Browser Support - ุฏุนู ุงููุชุตูุญุงุช

The modern interface supports:
- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

Legacy browsers may fall back to basic functionality.

## ๐ค Contributing - ุงููุณุงููุฉ

We welcome contributions to improve the chatbot! Please feel free to:

- Report bugs or suggest features
- Submit pull requests with improvements
- Help with translations
- Improve documentation

ูุฑุญุจ ุจุงููุณุงููุงุช ูุชุญุณูู ุฑูุจูุช ุงููุญุงุฏุซุฉ! ูุง ุชุชุฑุฏุฏ ูู:

- ุงูุฅุจูุงุบ ุนู ุงูุฃุฎุทุงุก ุฃู ุงูุชุฑุงุญ ููุฒุงุช
- ุชูุฏูู ุทูุจุงุช ุงูุณุญุจ ูุน ุงูุชุญุณููุงุช
- ุงููุณุงุนุฏุฉ ูู ุงูุชุฑุฌูุงุช
- ุชุญุณูู ุงููุซุงุฆู

---

**Note**: This project is designed to work offline and doesn't require any external APIs or internet connection for basic functionality.

**ููุงุญุธุฉ**: ูุฐุง ุงููุดุฑูุน ูุตูู ููุนูู ุฏูู ุงุชุตุงู ุจุงูุฅูุชุฑูุช ููุง ูุชุทูุจ ุฃู ูุงุฌูุงุช ุจุฑูุฌุฉ ุชุทุจููุงุช ุฎุงุฑุฌูุฉ ุฃู ุงุชุตุงู ุจุงูุฅูุชุฑูุช ูููุธุงุฆู ุงูุฃุณุงุณูุฉ.

## Recent Improvements - ุงูุชุญุณููุงุช ุงูุฃุฎูุฑุฉ

### 1. Enhanced Conversation Management - ุชุญุณูู ุฅุฏุงุฑุฉ ุงููุญุงุฏุซุงุช

- **Conversation History**: Fixed issues with conversation history not being saved or displayed in the sidebar
- **AI-Generated Conversation Titles**: Added automatic title generation for new conversations using Gemini AI
- **Conversation Options**: Implemented a three-dot menu for renaming and deleting conversations
- **Visual Indicators**: Added loading indicators during title generation and message processing

### 2. Improved AI Responses - ุชุญุณูู ุฑุฏูุฏ ุงูุฐูุงุก ุงูุงุตุทูุงุนู

- **Extended Response Length**: Removed character limits to allow for complete responses including code examples
- **Code Block Preservation**: Fixed issues with code blocks being stripped from responses
- **Increased Token Limits**: Upgraded Gemini API token limits from 5000 to 8192 for more comprehensive answers
- **Optimized Temperature Settings**: Adjusted temperature settings for more coherent responses
- **Enhanced AI Prompts**: Improved instructions for code and technical explanations

### 3. User Experience Improvements - ุชุญุณููุงุช ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู

- **Increased Message Length**: Maximum message length increased from 1000 to 5000 characters
- **Better Bilingual Support**: Enhanced support for both Arabic and English languages
- **Responsive UI Enhancements**: Improved mobile and desktop user interface
- **Real-time Updates**: Added real-time feedback during AI processing

### 4. Technical Upgrades - ุงูุชุฑููุงุช ุงูุชูููุฉ

- **Gemini 2.0 Integration**: Updated to use the latest Gemini 2.0 Flash model
- **Optimized API Parameters**: Fine-tuned API parameters for better performance
- **Enhanced Error Handling**: Improved error handling for API failures and edge cases
- **Memory Management**: Better conversation and learning memory management

### 5. Firebase Authentication Integration - ุชูุงูู ูุตุงุฏูุฉ Firebase

- **User Authentication**: Complete Firebase Authentication system with email/password and Google Sign-In
- **User Management**: User data storage and management in Firebase Realtime Database
- **Session Management**: Secure session handling with Firebase Auth state management
- **Responsive Login UI**: Beautiful, modern login interface with Arabic/English support
- **User Profile Display**: User information display in the chat interface with logout functionality

### 6. Per-User Data Storage - ุชุฎุฒูู ุงูุจูุงูุงุช ููู ูุณุชุฎุฏู

- **Individual Conversations**: Each user's conversations are stored separately in Firebase
- **Personal Learning Data**: Learning corrections and patterns are saved per user
- **Data Synchronization**: Automatic sync between local storage and Firebase
- **Cross-Device Access**: Users can access their conversations from any device
- **Data Security**: User data is protected with Firebase security rules
- **Offline Support**: Local storage fallback when Firebase is unavailable

## Firebase Setup Instructions - ุชุนูููุงุช ุฅุนุฏุงุฏ Firebase

### 1. Create Firebase Project - ุฅูุดุงุก ูุดุฑูุน Firebase
1. Go to [Firebase Console](https://console.firebase.google.com/)
2. Create a new project
3. Enable Authentication and Realtime Database

### 2. Configure Authentication - ุชูููู ุงููุตุงุฏูุฉ
1. Enable Email/Password authentication
2. Enable Google Sign-in (optional)
3. Configure authorized domains

### 3. Setup Database - ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช
1. Create Realtime Database in test mode
2. Configure security rules:

```json
{
  "rules": {
    "users": {
      "$uid": {
        ".read": "$uid === auth.uid",
        ".write": "$uid === auth.uid"
      }
    }
  }
}
```

### 4. Get Service Account Key - ุงูุญุตูู ุนูู ููุชุงุญ ุญุณุงุจ ุงูุฎุฏูุฉ
1. Go to Project Settings > Service accounts
2. Generate new private key
3. Download JSON file
4. Rename to `firebase-service-account.json`
5. Place in project root

### 5. Update Configuration - ุชุญุฏูุซ ุงูุชูููู
Update `config.py` with your Firebase configuration:

```python
FIREBASE_CONFIG = {
    "apiKey": "your-api-key",
    "authDomain": "your-project.firebaseapp.com",
    "databaseURL": "https://your-project-default-rtdb.firebaseio.com",
    "projectId": "your-project-id",
    "storageBucket": "your-project.appspot.com",
    "messagingSenderId": "123456789",
    "appId": "your-app-id"
}
```

### Database Structure - ูููู ูุงุนุฏุฉ ุงูุจูุงูุงุช

```
users/
  {userId}/
    conversations/
      {conversationId}/
        - Array of messages with role, message, timestamp
    learning/
      user_corrections/
        - User corrections for learning
      pattern_frequency/
        - Frequency of matched patterns
      similar_queries/
        - Similar queries for learning
```

## ๐จ ุญู ูุดููุฉ Google Sign-In - Unauthorized Domain

### ุงููุดููุฉ
```
Google sign in error: FirebaseError: Firebase: Error (auth/unauthorized-domain).
```

### ุงูุณุจุจ
ุงููุทุงู (domain) ุงูุฐู ุชุณุชุฎุฏูู ุบูุฑ ููุตุฑุญ ูู ูู ุฅุนุฏุงุฏุงุช Firebase Authentication.

### ุงูุญู

#### 1. ุฅุถุงูุฉ ุงููุทุงูุงุช ุงูููุตุฑุญ ุจูุง ูู Firebase Console

1. **ุงุฐูุจ ุฅูู Firebase Console:**
   - ุงูุชุญ [Firebase Console](https://console.firebase.google.com/)
   - ุงุฎุชุฑ ูุดุฑูุนู

2. **ุงุฐูุจ ุฅูู Authentication:**
   - ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉุ ุงุฎุชุฑ "Authentication"
   - ุงุฎุชุฑ ุชุจููุจ "Settings"
   - ุงุฎุชุฑ "Authorized domains"

3. **ุฃุถู ุงููุทุงูุงุช ุงูุชุงููุฉ:**
   ```
   localhost
   127.0.0.1
   192.168.1.13 (ุฃู ุนููุงู IP ุงูุฎุงุต ุจู)
   your-domain.com (ุฅุฐุง ูุงู ูุฏูู ูุทุงู ูุฎุตุต)
   ```

4. **ููุชุทููุฑ ุงููุญููุ ุฃุถู:**
   - `localhost`
   - `127.0.0.1` 
   - ุนููุงู IP ุงูุดุจูุฉ ุงููุญููุฉ (ูุซู `192.168.1.13`)

#### 2. ุฎุทูุงุช ููุตูุฉ ูุฅุถุงูุฉ ุงููุทุงูุงุช

1. **ูู Firebase Console > Authentication > Settings > Authorized domains:**
   
2. **ุงููุฑ ุนูู "Add domain"**

3. **ุฃุถู ุงููุทุงูุงุช ุงูุชุงููุฉ ูุงุญุฏุงู ุชูู ุงูุขุฎุฑ:**
   ```
   localhost
   127.0.0.1
   192.168.1.13
   ```

4. **ุงุญูุธ ุงูุชุบููุฑุงุช**

#### 3. ูููุทุงูุงุช ุงููุฎุตุตุฉ (ุฅูุชุงุฌ)

ุฅุฐุง ููุช ุชุณุชุฎุฏู ูุทุงู ูุฎุตุต ูู ุงูุฅูุชุงุฌ:

1. **ุฃุถู ูุทุงูู:**
   ```
   yourdomain.com
   www.yourdomain.com
   ```

2. **ุชุฃูุฏ ูู ุฅุนุฏุงุฏ SSL Certificate**

#### 4. ูุตุงุฆุญ ุฅุถุงููุฉ

- **ุงูุชุธุฑ ููููุงู:** ูุฏ ุชุญุชุงุฌ ุงูุชุบููุฑุงุช ุฅูู ุจุถุน ุฏูุงุฆู ูุชุตุจุญ ูุนุงูุฉ
- **ุงูุณุญ ุงููุงุด:** ุงูุณุญ ูุงุด ุงููุชุตูุญ ุจุนุฏ ุฅุถุงูุฉ ุงููุทุงูุงุช
- **ุฃุนุฏ ุชุดุบูู ุงูุชุทุจูู:** ุฃุนุฏ ุชุดุบูู ุฎุงุฏู ุงูุชุทููุฑ

#### 5. ููุชุญูู ูู ุงููุทุงู ุงูุญุงูู

ููููู ุงูุชุญูู ูู ุงููุทุงู ุงูุฐู ูุณุชุฎุฏูู ุชุทุจููู:

```javascript
console.log('Current domain:', window.location.hostname);
console.log('Current origin:', window.location.origin);
```

#### 6. ูุซุงู ุนูู ุงููุทุงูุงุช ุงูููุตุฑุญ ุจูุง

```
โ localhost
โ 127.0.0.1
โ 192.168.1.13
โ your-app.web.app
โ your-app.firebaseapp.com
โ your-custom-domain.com
```

### ููุงุญุธุงุช ูููุฉ

- **ูุง ุชุถุน `http://` ุฃู `https://`** - ููุท ุงุณู ุงููุทุงู
- **ูุง ุชุถุน ุงููููุฐ (port)** - ููุท ุงุณู ุงููุทุงู ุฃู IP
- **ููุชุทููุฑ ุงููุญูู:** ุชุฃูุฏ ูู ุฅุถุงูุฉ `localhost` ู `127.0.0.1`
- **ููุดุจูุฉ ุงููุญููุฉ:** ุฃุถู ุนููุงู IP ุงูุฎุงุต ุจุฌูุงุฒู

---

## ๐ ูุธุงู ุงูุฃูุงู ูุงูุฎุตูุตูุฉ ุงููุญุณู - Enhanced Security & Privacy System

### ุงููุดููุฉ ุงูุชู ุชู ุญููุง
ูุงูุช ููุงู ูุดููุฉ ุฃูููุฉ ุฎุทูุฑุฉ ุญูุซ ูุงู ุฌููุน ุงููุณุชุฎุฏููู ูุฑูู ูุญุงุฏุซุงุช ุจุนุถูู ุงูุจุนุถ. ุชู ุฅุตูุงุญ ูุฐู ุงููุดููุฉ ุจุงููุงูู.

### ุงูุฅุตูุงุญุงุช ุงููุทุจูุฉ

#### 1. **ููุชุฑุฉ ุงููุญุงุฏุซุงุช ุญุณุจ ุงููุณุชุฎุฏู**
- โ ูู ูุณุชุฎุฏู ูุฑู ูุญุงุฏุซุงุชู ููุท
- โ ูุง ูููู ูููุณุชุฎุฏููู ุงููุตูู ููุญุงุฏุซุงุช ุงูุขุฎุฑูู
- โ ุนุฒู ูุงูู ููุจูุงูุงุช ุจูู ุงููุณุชุฎุฏููู

#### 2. **ุญูุงูุฉ ุงูุนูููุงุช**
ุฌููุน ุงูุนูููุงุช ุงูุชุงููุฉ ูุญููุฉ ุจููุชุฑุฉ ุฃูููุฉ:
- โ `/get_conversations` - ุนุฑุถ ูุงุฆูุฉ ุงููุญุงุฏุซุงุช
- โ `/get_conversation/<id>` - ุนุฑุถ ูุญุงุฏุซุฉ ูุญุฏุฏุฉ
- โ `/delete_conversation` - ุญุฐู ูุญุงุฏุซุฉ
- โ `/update_conversation_title` - ุชุญุฏูุซ ุนููุงู ุงููุญุงุฏุซุฉ
- โ `/generate_conversation_title` - ุฅูุดุงุก ุนููุงู ุชููุงุฆู

#### 3. **ุฃููุงุน ุงููุณุชุฎุฏููู**

**ุงููุณุชุฎุฏููู ุงููุฌููููู (Anonymous Users):**
- ูุฑูู ูุญุงุฏุซุงุชูู ูู ุงูุฌูุณุฉ ุงูุญุงููุฉ ููุท
- ูุง ูููููู ุงููุตูู ููุญุงุฏุซุงุช ุฌูุณุงุช ุฃุฎุฑู
- ุงูุจูุงูุงุช ูุญููุฉ ููุคูุชุฉ

**ุงููุณุชุฎุฏููู ุงููุณุฌููู (Authenticated Users):**
- ูุฑูู ูุญุงุฏุซุงุชูู ุงููุญููุธุฉ ูู Firebase ููุท
- ุงูุจูุงูุงุช ูุญููุธุฉ ููุชุงุญุฉ ุนุจุฑ ุงูุฃุฌูุฒุฉ
- ูู ูุณุชุฎุฏู ูู ูุณุงุญุฉ ูููุตูุฉ: `users/{userId}/conversations/`

#### 4. **ุขููุฉ ุงูุชุญูู ูู ุงููููุฉ**

```javascript
// ุงูุชุญูู ูู Firebase Token
const headers = await window.getAuthHeaders();
// ูุถูู: Authorization: Bearer <firebase-token>
```

```python
# ูู ุงูุฎุงุฏู - ุงูุชุญูู ูู ุตุญุฉ ุงููุณุชุฎุฏู
user_id = get_user_id_from_session()
if user_id == 'anonymous':
    # ุงููุณุชุฎุฏู ุงููุฌููู - ูุญุงุฏุซุงุช ุงูุฌูุณุฉ ููุท
else:
    # ุงููุณุชุฎุฏู ุงููุณุฌู - ูุญุงุฏุซุงุช Firebase ููุท
```

#### 5. **ุญูุงูุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช**

**ูููู Firebase ูุญูู:**
```
users/
  {userId}/          # โ ูู ูุณุชุฎุฏู ูู ูุฌูุฏ ูููุตู
    conversations/
      {conversationId}/
        - messages[]
    learning/
      - user_corrections
```

**ููุงุนุฏ ุงูุฃูุงู ูู Firebase:**
```json
{
  "rules": {
    "users": {
      "$uid": {
        ".read": "$uid === auth.uid",
        ".write": "$uid === auth.uid"
      }
    }
  }
}
```

### ุงูููุฒุงุช ุงูุฃูููุฉ ุงูุฌุฏูุฏุฉ

#### 1. **ููุชุฑุฉ ุฐููุฉ ูููุญุงุฏุซุงุช**
```python
# ููุท ุงููุญุงุฏุซุงุช ุงูุชู ุชุจุฏุฃ ุจู conv_{user_id}_
if conversation_id.startswith(f"conv_{user_id}_"):
    has_access = True
```

#### 2. **ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ**
```json
{
  "error": "Conversation not found or access denied"
}
```

#### 3. **ุญุฐู ุขูู ูู Firebase**
```python
# ุญุฐู ูู Firebase ุฃูุถุงู
ref = db.reference(f'users/{user_id}/conversations/{conversation_id}')
ref.delete()
```

### ุงุฎุชุจุงุฑ ุงููุธุงู ุงูุฃููู

#### 1. **ุงุฎุชุจุงุฑ ุนุฒู ุงููุณุชุฎุฏููู**
1. ุณุฌู ุฏุฎูู ููุณุชุฎุฏู A
2. ุฃูุดุฆ ูุญุงุฏุซุฉ
3. ุณุฌู ุฎุฑูุฌ ูุงุฏุฎู ููุณุชุฎุฏู B
4. โ ูู ุชุฑู ูุญุงุฏุซุงุช ุงููุณุชุฎุฏู A

#### 2. **ุงุฎุชุจุงุฑ ุงููุตูู ุงููุจุงุดุฑ**
```bash
# ูุญุงููุฉ ุงููุตูู ููุญุงุฏุซุฉ ูุณุชุฎุฏู ุขุฎุฑ
curl -X GET "http://localhost/get_conversation/conv_other_user_123"
# ุงููุชูุฌุฉ: 404 - Conversation not found or access denied
```

#### 3. **ุงุฎุชุจุงุฑ ุงูุชูุงุนุจ ุจุงูุทูุจุงุช**
- โ ูุง ูููู ุงููุตูู ููุญุงุฏุซุงุช ุงูุขุฎุฑูู ุญุชู ูู ุนูุฑู ุงูู ID
- โ ุฌููุน ุงูุนูููุงุช ูุญููุฉ ุจุงูุชุญูู ูู ุงููููุฉ
- โ Firebase Token ูุทููุจ ูููุณุชุฎุฏููู ุงููุณุฌููู

### ูุตุงุฆุญ ุงูุฃูุงู ูููุทูุฑูู

#### 1. **ูุง ุชุซู ุจุงููุงุฌูุฉ ุงูุฃูุงููุฉ**
- โ ุฌููุน ุงูููุชุฑุฉ ุชุชู ูู ุงูุฎุงุฏู
- โ ุงูุชุญูู ูู ุงููููุฉ ูู ูู ุทูุจ
- โ ุนุฏู ุงูุงุนุชูุงุฏ ุนูู JavaScript ููุฃูุงู

#### 2. **ุงุณุชุฎุฏู Firebase Security Rules**
```json
{
  "rules": {
    ".read": "auth != null",
    ".write": "auth != null",
    "users": {
      "$uid": {
        ".read": "$uid === auth.uid",
        ".write": "$uid === auth.uid"
      }
    }
  }
}
```

#### 3. **ูุฑุงูุจุฉ ุงูุณุฌูุงุช**
```python
print(f"User {user_id} accessing conversation {conversation_id}")
```

---
